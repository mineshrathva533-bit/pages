<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Online Image Converter â€“ Convert JPG, PNG, WEBP, GIF</title>
    <meta name="description" content="Convert images online instantly between JPG, PNG, WEBP, and GIF formats. Free, secure, and no watermarks.">
    <meta name="keywords" content="image converter, jpg to png, png to webp, gif to png, online image conversion">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #4361ee;
            --primary-light: #4cc9f0;
            --secondary-color: #f8f9fa;
            --accent-color: #f72585;
            --dark-color: #14213d;
            --light-color: #ffffff;
            --gradient: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
            --border-radius: 0.5rem;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            overflow-x: hidden;
        }
        
        @supports (font-variation-settings: normal) {
            body { font-family: 'Inter var', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; }
        }
        
        /* Header/Navbar */
        .navbar {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 15px 0;
            background-color: var(--light-color);
            transition: all 0.3s ease;
        }
        
        .navbar.scrolled {
            padding: 10px 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 1.6rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-flex;
            align-items: center;
        }
        
        .navbar-brand i {
            margin-right: 8px;
            font-size: 1.8rem;
        }
        
        .nav-link {
            font-weight: 500;
            padding: 0.5rem 1.2rem;
            color: var(--dark-color);
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link:before {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background: var(--gradient);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--primary-color);
        }
        
        .nav-link:hover:before {
            width: 100%;
        }
        
        .nav-link.active {
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .nav-link.active:before {
            width: 100%;
        }
        
        /* Hero Section */
        .hero-converter {
            background: var(--gradient);
            padding: 5rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
            color: white;
        }
        
        .hero-converter h1 {
            font-weight: 800;
            font-size: 2.8rem;
            margin-bottom: 1.5rem;
            color: white;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .hero-converter p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            color: rgba(255, 255, 255, 0.9);
        }
        
        /* Upload Area */
        .upload-area {
            background: white;
            border-radius: 16px;
            padding: 3rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            margin: 3rem auto;
            max-width: 900px;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        .upload-container {
            border: 2px dashed #ccc;
            border-radius: 12px;
            padding: 3rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f9fafb;
        }
        
        .upload-container:hover {
            border-color: var(--primary-color);
            background: rgba(67, 97, 238, 0.05);
        }
        
        .upload-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }
        
        .btn-upload {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            font-weight: 600;
            border-radius: 50px;
            transition: all 0.3s ease;
        }
        
        .btn-upload:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            color: white;
        }
        
        /* Converter Controls */
        .converter-controls {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: var(--secondary-color);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .format-selection {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .format-selection label {
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .format-selection select {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        .btn-convert {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            font-weight: 600;
            border-radius: 50px;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }
        
        .btn-convert:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            color: white;
        }
        
        /* Preview Section */
        .preview-section {
            display: none;
            margin-top: 2rem;
        }
        
        .image-comparison {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .image-container {
            flex: 1;
            min-width: 300px;
            text-align: center;
            background: var(--secondary-color);
            border-radius: 8px;
            padding: 1.5rem;
        }
        
        .image-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }
        
        .image-preview {
            max-width: 100%;
            max-height: 300px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .file-info {
            background: var(--secondary-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .file-info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
        }
        
        .file-info-label {
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .file-info-value {
            font-weight: 500;
        }
        
        .btn-download {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            font-weight: 600;
            border-radius: 50px;
            margin-top: 1.5rem;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .btn-download:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            color: white;
        }
        
        /* Features Section */
        .features {
            padding: 5rem 0;
            background-color: var(--secondary-color);
        }
        
        .feature-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            height: 100%;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }
        
        .feature-card h3 {
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        /* FAQ Section */
        .faq {
            padding: 5rem 0;
        }
        
        .accordion-item {
            margin-bottom: 1rem;
            border-radius: 8px !important;
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .accordion-button {
            font-weight: 600;
        }
        
        .accordion-button:not(.collapsed) {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
        }
        
        /* Footer */
        footer {
            background-color: var(--dark-color);
            color: var(--light-color);
            padding: 4rem 0 1.5rem;
        }
        
        .footer-links a {
            color: #adb5bd;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .social-icons a {
            color: white;
            font-size: 1.2rem;
            margin-right: 1rem;
        }
        
        .copyright {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 1.5rem;
            margin-top: 2rem;
            color: #adb5bd;
        }
        
        /* Ad Sections */
        .ad-section {
            background-color: var(--secondary-color);
            padding: 20px;
            border-radius: 5px;
            margin: 2rem 0;
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px dashed #ccc;
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .hero-converter h1 {
                font-size: 2.2rem;
            }
            
            .upload-area {
                padding: 2rem 1rem;
            }
            
            .upload-container {
                padding: 2rem 1rem;
            }
            
            .image-comparison {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header class="sticky-top">
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <a class="navbar-brand" href="#"><i class="fas fa-crop-alt"></i>ImageTools</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="converter.html">Tools</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <section class="hero-converter">
        <div class="container">
            <h1>Convert Image Formats Online for Free</h1>
            <p class="lead">Easily convert between JPG, PNG, WEBP, and GIF formats without losing quality.</p>
        </div>
    </section>

    <section class="container">
        <div class="ad-section">
            <div style="background-color: #f0f0f0; height: 100%; width: 100%; display: flex; align-items: center; justify-content: center;">
                <p>Advertisement</p>
            </div>
        </div>
    </section>

    <section class="container">
        <div class="upload-area">
            <div class="upload-container" id="uploadContainer">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <h3>Drag & Drop Your Image Here</h3>
                <p>or</p>
                <button class="btn btn-upload">Select Image</button>
                <input type="file" id="fileInput" accept="image/jpeg, image/png, image/webp, image/gif" style="display: none;">
            </div>
            
            <div class="converter-controls" id="converterControls" style="display: none;">
                <div class="format-selection">
                    <label for="formatSelect">Convert To:</label>
                    <select id="formatSelect" class="form-select">
                        <option value="">Select format</option>
                        <option value="jpg">JPG</option>
                        <option value="png">PNG</option>
                        <option value="webp">WEBP</option>
                    </select>
                </div>
                <button class="btn btn-convert w-100" id="convertBtn" disabled>
                    <i class="fas fa-exchange-alt me-2"></i> Convert Image
                </button>
            </div>
            
            <div class="preview-section" id="previewSection">
                <div class="image-comparison">
                    <div class="image-container">
                        <div class="image-label">Original Image</div>
                        <img id="originalPreview" class="image-preview" alt="Original Preview">
                        <div class="file-info-value" id="originalInfo"></div>
                    </div>
                    <div class="image-container">
                        <div class="image-label">Converted Image</div>
                        <img id="convertedPreview" class="image-preview" alt="Converted Preview">
                        <div class="file-info-value" id="convertedInfo"></div>
                    </div>
                </div>
                
                <div class="file-info">
                    <div class="file-info-item">
                        <span class="file-info-label">File Name:</span>
                        <span class="file-info-value" id="fileName"></span>
                    </div>
                    <div class="file-info-item">
                        <span class="file-info-label">Original Size:</span>
                        <span class="file-info-value" id="originalSize"></span>
                    </div>
                    <div class="file-info-item">
                        <span class="file-info-label">Converted Size:</span>
                        <span class="file-info-value" id="convertedSize">N/A</span>
                    </div>
                    <a href="#" class="btn btn-download w-100 mt-3" id="downloadBtn" download="converted_image" disabled>
                        <i class="fas fa-download me-2"></i> Download Converted Image
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section class="container">
        <div class="ad-section">
            <div style="background-color: #f0f0f0; height: 100%; width: 100%; display: flex; align-items: center; justify-content: center;">
                <p>Advertisement</p>
            </div>
        </div>
    </section>

    <section class="features">
        <div class="container">
            <div class="text-center mb-5">
                <h2>Why Use Our Image Converter</h2>
                <p class="lead">Everything you need for perfect image conversion</p>
            </div>
            <div class="row g-4">
                <div class="col-md-6 col-lg-3">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <h3>100% Free</h3>
                        <p>No hidden charges or subscriptions. Convert as many images as you want.</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-lock"></i>
                        </div>
                        <h3>Secure Processing</h3>
                        <p>Your images are processed in your browser and never uploaded to our servers.</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-tint"></i>
                        </div>
                        <h3>No Watermarks</h3>
                        <p>Get clean, professional results without any annoying watermarks.</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3>Works Anywhere</h3>
                        <p>Use our tool on any device - desktop, tablet, or mobile phone.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="faq">
        <div class="container">
            <div class="text-center mb-5">
                <h2>Frequently Asked Questions</h2>
                <p class="lead">Find answers to common questions about image conversion</p>
            </div>
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Is this tool free to use?
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Yes, our image converter is completely free to use with no hidden charges. You can convert as many images as you want without any limitations.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            Do you store my images after conversion?
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            No, all image processing happens directly in your browser. Your files are never uploaded to our servers, ensuring complete privacy and security.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Does conversion affect image quality?
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            We use advanced conversion algorithms to preserve as much quality as possible. However, some formats like JPG are lossy by nature, so there might be minimal quality loss when converting to these formats.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                            Can I convert multiple images at once?
                        </button>
                    </h2>
                    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Currently, our tool supports converting one image at a time. For batch conversions, you would need to process each image individually.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFive">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                            What image formats do you support?
                        </button>
                    </h2>
                    <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            We support all major image formats including JPG, PNG, WEBP, and GIF. The converted image will be in the same format as the original.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <h5 class="text-white">ImageTools</h5>
                    <p class="text-muted">Free online tools for all your image editing needs. No registration required.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-github"></i></a>
                    </div>
                </div>
                <div class="col-md-2">
                    <h5 class="text-white">Tools</h5>
                    <ul class="footer-links">
                        <li><a href="#">Compressor</a></li>
                        <li><a href="#">Resizer</a></li>
                        <li><a href="#">Converter</a></li>
                        <li><a href="#">Cropper</a></li>
                    </ul>
                </div>
                <div class="col-md-2">
                    <h5 class="text-white">Company</h5>
                    <ul class="footer-links">
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <div class="ad-section h-100">
                        <div style="background-color: #f0f0f0; height: 100%; display: flex; align-items: center; justify-content: center;">
                            <p>Advertisement</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="copyright text-center">
                <p class="mb-0">&copy; 2023 ImageTools. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const uploadContainer = document.getElementById('uploadContainer');
            const fileInput = document.getElementById('fileInput');
            const converterControls = document.getElementById('converterControls');
            const previewSection = document.getElementById('previewSection');
            const originalPreview = document.getElementById('originalPreview');
            const convertedPreview = document.getElementById('convertedPreview');
            const originalInfo = document.getElementById('originalInfo');
            const convertedInfo = document.getElementById('convertedInfo');
            const fileNameSpan = document.getElementById('fileName');
            const originalSizeSpan = document.getElementById('originalSize');
            const convertedSizeSpan = document.getElementById('convertedSize');
            const formatSelect = document.getElementById('formatSelect');
            const convertBtn = document.getElementById('convertBtn');
            const downloadBtn = document.getElementById('downloadBtn');

            let originalImage = null;
            let originalFile = null;
            let convertedBlob = null;

            // Handle file upload click
            uploadContainer.addEventListener('click', () => fileInput.click());

            // Handle drag and drop
            uploadContainer.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadContainer.style.borderColor = '#4361ee';
                uploadContainer.style.backgroundColor = 'rgba(67, 97, 238, 0.05)';
            });

            uploadContainer.addEventListener('dragleave', () => {
                uploadContainer.style.borderColor = '#ccc';
                uploadContainer.style.backgroundColor = '#f9fafb';
            });

            uploadContainer.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadContainer.style.borderColor = '#ccc';
                uploadContainer.style.backgroundColor = '#f9fafb';
                if (e.dataTransfer.files.length) {
                    handleFileSelection(e.dataTransfer.files[0]);
                }
            });

            // Handle file selection
            fileInput.addEventListener('change', (e) => {
                if (e.target.files.length) {
                    handleFileSelection(e.target.files[0]);
                }
            });

            function handleFileSelection(file) {
                if (!file.type.match('image/jpeg|image/png|image/webp|image/gif')) {
                    alert('Please select a JPG, PNG, WEBP, or GIF image.');
                    return;
                }
                originalFile = file;

                const reader = new FileReader();
                reader.onload = function(e) {
                    originalImage = new Image();
                    originalImage.onload = function() {
                        originalPreview.src = e.target.result;
                        convertedPreview.src = '';
                        convertedInfo.textContent = 'Select format and convert';

                        const fileExtension = originalFile.name.split('.').pop().toUpperCase();
                        originalInfo.textContent = `${this.width} Ã— ${this.height} px | ${fileExtension}`;
                        fileNameSpan.textContent = originalFile.name;
                        originalSizeSpan.textContent = formatFileSize(originalFile.size);
                        convertedSizeSpan.textContent = 'N/A';

                        converterControls.style.display = 'flex';
                        previewSection.style.display = 'block';
                        downloadBtn.disabled = true;
                        formatSelect.value = '';

                        converterControls.scrollIntoView({ behavior: 'smooth' });
                    };
                    originalImage.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }

            // Enable convert button when format is selected
            formatSelect.addEventListener('change', function() {
                convertBtn.disabled = !this.value || !originalImage;
            });

            // Convert and update preview
            convertBtn.addEventListener('click', async () => {
                const outputFormat = formatSelect.value;
                if (!outputFormat || !originalImage) {
                    alert('Please select a format and an image.');
                    return;
                }

                convertBtn.disabled = true;
                convertBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i> Converting...';
                downloadBtn.disabled = true;

                const canvas = document.createElement('canvas');
                canvas.width = originalImage.width;
                canvas.height = originalImage.height;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(originalImage, 0, 0);

                const mimeType = `image/${outputFormat === 'jpg' ? 'jpeg' : outputFormat}`;
                
                try {
                    convertedBlob = await new Promise(resolve => canvas.toBlob(resolve, mimeType, 0.92));
                    const convertedDataUrl = URL.createObjectURL(convertedBlob);
                    
                    convertedPreview.src = convertedDataUrl;
                    convertedInfo.textContent = `${originalImage.width} Ã— ${originalImage.height} px | ${outputFormat.toUpperCase()}`;
                    convertedSizeSpan.textContent = formatFileSize(convertedBlob.size);
                    
                    downloadBtn.disabled = false;
                    downloadBtn.href = convertedDataUrl;
                    downloadBtn.setAttribute('download', `converted_image.${outputFormat}`);
                } catch (error) {
                    console.error('Conversion error:', error);
                    alert('An error occurred during conversion. Please try again.');
                } finally {
                    convertBtn.disabled = false;
                    convertBtn.innerHTML = '<i class="fas fa-exchange-alt me-2"></i> Convert Image';
                }
            });

            // Format file size utility
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            // Navbar scroll effect
            window.addEventListener('scroll', function() {
                const navbar = document.querySelector('.navbar');
                if (window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });
        });
    </script>
</body>
</html>
